{"remainingRequest":"/home/crax/Code/ZhuHaiBus-PWA/node_modules/babel-loader/lib/index.js!/home/crax/Code/ZhuHaiBus-PWA/node_modules/vuetify-loader/lib/loader.js!/home/crax/Code/ZhuHaiBus-PWA/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/crax/Code/ZhuHaiBus-PWA/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/crax/Code/ZhuHaiBus-PWA/src/components/Index/card.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/crax/Code/ZhuHaiBus-PWA/src/components/Index/card.vue","mtime":1549193507776},{"path":"/home/crax/Code/ZhuHaiBus-PWA/node_modules/cache-loader/dist/cjs.js","mtime":1546870092283},{"path":"/home/crax/Code/ZhuHaiBus-PWA/node_modules/babel-loader/lib/index.js","mtime":1546870092233},{"path":"/home/crax/Code/ZhuHaiBus-PWA/node_modules/vuetify-loader/lib/loader.js","mtime":1546870102026},{"path":"/home/crax/Code/ZhuHaiBus-PWA/node_modules/cache-loader/dist/cjs.js","mtime":1546870092283},{"path":"/home/crax/Code/ZhuHaiBus-PWA/node_modules/vue-loader/lib/index.js","mtime":1546870101180}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.find\";\nimport _objectSpread from \"/home/crax/Code/ZhuHaiBus-PWA/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { ContentLoader } from \"vue-content-loader\";\nimport { mapState, mapGetters, mapMutations } from \"vuex\";\nexport default {\n  components: {\n    ContentLoader: ContentLoader\n  },\n  props: [\"router\"],\n  computed: _objectSpread({}, mapState([\"favoriteRouters\"]), mapGetters([\"recentStop\", \"calculatePageOffset\"]), {\n    hasCollection: function hasCollection() {\n      var _this = this;\n\n      return this.favoriteRouters.find(function (router) {\n        return router.id === _this.router.id;\n      });\n    }\n  }),\n  data: function data() {\n    return {\n      star: false\n    };\n  },\n  methods: _objectSpread({}, mapMutations([\"transformRouter\", \"addRouterToFavoriteRouters\", \"removeRouterFromFavoriteRouters\"]), {\n    switchingRouter: function switchingRouter() {\n      this.$router.push({\n        name: \"details\",\n        params: {\n          recentStopId: this.recentStop.id,\n          routerInfo: this.router\n        }\n      });\n    },\n    changeRouterStatusOnfavoriteRouters: function changeRouterStatusOnfavoriteRouters() {\n      if (this.hasCollection) this.removeRouterFromFavoriteRouters(this.router);else {\n        this.addRouterToFavoriteRouters(this.router);\n      }\n    },\n    conversionRouterDirection: function conversionRouterDirection() {\n      var _this2 = this;\n\n      this.$work.postMessage({\n        flag: \"queryRouterByRouterNumber\",\n        data: this.router.routerNumber\n      });\n\n      this.$work.onmessage = function (_ref) {\n        var data = _ref.data;\n\n        _this2.transformRouter({\n          newRouter: data.filter(function (_ref2) {\n            var id = _ref2.id;\n            return id !== _this2.router.id;\n          }),\n          oldRouter: _this2.router\n        });\n      };\n    }\n  }),\n  watch: {\n    star: function star(newStatus) {\n      if (newStatus && !this.hasCollection) this.addRouterToFavoriteRouters(this.router);else if (this.hasCollection) {\n        this.removeRouterFromFavoriteRouters(this.router);\n      }\n    }\n  },\n  mounted: function mounted() {}\n};",{"version":3,"sources":["card.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,SAAA,aAAA,QAAA,oBAAA;AACA,SAAA,QAAA,EAAA,UAAA,EAAA,YAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA;AADA,GADA;AAIA,EAAA,KAAA,EAAA,CAAA,QAAA,CAJA;AAKA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,iBAAA,CAAA,CADA,EAEA,UAAA,CAAA,CAAA,YAAA,EAAA,qBAAA,CAAA,CAFA;AAGA,IAAA,aAHA,2BAGA;AAAA;;AACA,aAAA,KAAA,eAAA,CAAA,IAAA,CAAA,UAAA,MAAA;AAAA,eAAA,MAAA,CAAA,EAAA,KAAA,KAAA,CAAA,MAAA,CAAA,EAAA;AAAA,OAAA,CAAA;AACA;AALA,IALA;AAYA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA;AAAA,GAZA;AAeA,EAAA,OAAA,oBACA,YAAA,CAAA,CAAA,iBAAA,EAAA,4BAAA,EAAA,iCAAA,CAAA,CADA;AAEA,IAAA,eAFA,6BAEA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,MAAA,EAAA;AACA,UAAA,YAAA,EAAA,KAAA,UAAA,CAAA,EADA;AAEA,UAAA,UAAA,EAAA,KAAA;AAFA;AAFA,OAAA;AAOA,KAVA;AAWA,IAAA,mCAXA,iDAWA;AACA,UAAA,KAAA,aAAA,EAAA,KAAA,+BAAA,CAAA,KAAA,MAAA,EAAA,KACA;AACA,aAAA,0BAAA,CAAA,KAAA,MAAA;AACA;AACA,KAhBA;AAiBA,IAAA,yBAjBA,uCAiBA;AAAA;;AACA,WAAA,KAAA,CAAA,WAAA,CAAA;AACA,QAAA,IAAA,EAAA,2BADA;AAEA,QAAA,IAAA,EAAA,KAAA,MAAA,CAAA;AAFA,OAAA;;AAKA,WAAA,KAAA,CAAA,SAAA,GAAA,gBAAA;AAAA,YAAA,IAAA,QAAA,IAAA;;AACA,QAAA,MAAA,CAAA,eAAA,CAAA;AACA,UAAA,SAAA,EAAA,IAAA,CAAA,MAAA,CAAA;AAAA,gBAAA,EAAA,SAAA,EAAA;AAAA,mBAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AAAA,WAAA,CADA;AAEA,UAAA,SAAA,EAAA,MAAA,CAAA;AAFA,SAAA;AAIA,OALA;AAMA;AA7BA,IAfA;AA8CA,EAAA,KAAA,EAAA;AACA,IAAA,IADA,gBACA,SADA,EACA;AACA,UAAA,SAAA,IAAA,CAAA,KAAA,aAAA,EACA,KAAA,0BAAA,CAAA,KAAA,MAAA,EADA,KAEA,IAAA,KAAA,aAAA,EAAA;AACA,aAAA,+BAAA,CAAA,KAAA,MAAA;AACA;AACA;AAPA,GA9CA;AAuDA,EAAA,OAvDA,qBAuDA,CAEA;AAzDA,CAAA","sourcesContent":["<template>\n  <v-card flat class=\"line_card\" @click=\"switchingRouter\" v-if=\"true\">\n    <v-card-title>\n      <div>\n        <h3 class=\"card_font_title\">{{ router.routerNumber }}è·¯</h3>\n        <div>\n          <span class=\"card_font_body\">{{ router.start_stop }}</span>\n          <v-icon>arrow_forward</v-icon>\n          <span class=\"card_font_body\">{{ router.end_stop }}</span>\n        </div>\n      </div>\n    </v-card-title>\n    <v-spacer></v-spacer>\n    <v-card-actions class=\"line_card_actions\">\n      <v-btn icon @click.stop=\"\">\n        <v-icon v-if=\"false\" color=\"#ffd54f\">star</v-icon>\n        <v-icon v-else>star_border</v-icon>\n      </v-btn>\n      <v-btn icon @click.stop=\"conversionRouterDirection\">\n        <v-icon>swap_horiz</v-icon>\n      </v-btn>\n    </v-card-actions>\n  </v-card>\n  <v-card v-else>\n    <content-loader\n      :height=\"88\"\n      :width=\"400\"\n      :speed=\"2\"\n      primaryColor=\"#c7c7c7\"\n      secondaryColor=\"#ecebeb\"\n    >\n      <rect x=\"16\" y=\"16\" rx=\"4\" ry=\"4\" width=\"40\" height=\"10.4\"/>\n      <rect x=\"16\" y=\"46\" rx=\"4\" ry=\"4\" width=\"180\" height=\"10.4\"/>\n    </content-loader>\n  </v-card>\n</template>\n<script>\nimport { ContentLoader } from \"vue-content-loader\";\nimport { mapState, mapGetters, mapMutations } from \"vuex\";\nexport default {\n  components: {\n    ContentLoader\n  },\n  props: [\"router\"],\n  computed: {\n    ...mapState([\"favoriteRouters\"]),\n    ...mapGetters([\"recentStop\", \"calculatePageOffset\"]),\n    hasCollection() {\n        return this.favoriteRouters.find(router => router.id === this.router.id)\n    }\n  },\n  data: () => ({\n    star: false\n  }),\n  methods: {\n    ...mapMutations([\"transformRouter\", \"addRouterToFavoriteRouters\", \"removeRouterFromFavoriteRouters\"]),\n    switchingRouter() {\n      this.$router.push({\n        name: \"details\",\n        params: {\n          recentStopId: this.recentStop.id,\n          routerInfo: this.router\n        }\n      });\n    },\n    changeRouterStatusOnfavoriteRouters() {\n        if(this.hasCollection) this.removeRouterFromFavoriteRouters(this.router);\n        else {\n            this.addRouterToFavoriteRouters(this.router)\n        }\n    },\n    conversionRouterDirection() {\n      this.$work.postMessage({\n        flag: \"queryRouterByRouterNumber\",\n        data: this.router.routerNumber\n      });\n\n      this.$work.onmessage = ({ data }) => {\n        this.transformRouter({\n          newRouter: data.filter(({ id }) => id !== this.router.id),\n          oldRouter: this.router\n        });\n      };\n    }\n  },\n  watch: {\n    star(newStatus) {\n        if(newStatus && !this.hasCollection) \n            this.addRouterToFavoriteRouters(this.router);\n        else if(this.hasCollection) {\n            this.removeRouterFromFavoriteRouters(this.router)\n        }  \n    }\n  },\n  mounted() {\n\n  }\n};\n</script>\n<style scoped>\n.line_card {\n  display: flex;\n}\n.line_card_actions {\n  margin-right: 16px;\n  flex-direction: column;\n}\n.card_font_body {\n  font-size: 1.25rem;\n}\n.card_font_title {\n  font-size: 1.4rem;\n}\n.skeleton {\n  background-color: lightgrey;\n  opacity: 0.5;\n}\n</style>\n\n\n"],"sourceRoot":"src/components/Index"}]}