{"remainingRequest":"/home/crax/Code/ZhuHaiBus-PWA/node_modules/babel-loader/lib/index.js!/home/crax/Code/ZhuHaiBus-PWA/src/store/main.js","dependencies":[{"path":"/home/crax/Code/ZhuHaiBus-PWA/src/store/main.js","mtime":1549955872899},{"path":"/home/crax/Code/ZhuHaiBus-PWA/node_modules/cache-loader/dist/cjs.js","mtime":1546870092283},{"path":"/home/crax/Code/ZhuHaiBus-PWA/node_modules/babel-loader/lib/index.js","mtime":1546870092233}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.find-index\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    searchBarStatus: false,\n    nearbyStops: [],\n    screenHeight: null,\n    stopRouters: [],\n    geoLocationState: '' //favoriteRouters: JSON.parse(localStorage[\"favoriteRouters\"]) || []\n\n  },\n  getters: {\n    recentStop: function recentStop(state) {\n      return state.nearbyStops[0];\n    },\n    calculatePageOffset: function calculatePageOffset(state) {\n      return Math.floor(state.screenHeight / 65.5 * 0.7) * 65.5;\n    }\n  },\n  mutations: {\n    changeGeoLocationState: function changeGeoLocationState(state, msg) {\n      state.geoLocationState = msg;\n    },\n    changeSearchBarState: function changeSearchBarState(state) {\n      state.searchBarState = !state.searchBarState;\n    },\n    setNearbyStops: function setNearbyStops(state, nearbyStops) {\n      state.nearbyStops = nearbyStops;\n    },\n    setScreenHeight: function setScreenHeight(state, height) {\n      state.screenHeight = height;\n    },\n    setStopRouters: function setStopRouters(state, routers) {\n      state.stopRouters = routers;\n    },\n    transformRouter: function transformRouter(state, router) {\n      var index = state.stopRouters.findIndex(function (_ref) {\n        var id = _ref.id;\n        return id === router.oldRouter.id;\n      });\n      Vue.set(state.stopRouters, index, router.newRouter[0]);\n    },\n    addRouterToFavoriteRouters: function addRouterToFavoriteRouters(state, router) {\n      state.favoriteRouters.push(router);\n    },\n    removeRouterFromFavoriteRouters: function removeRouterFromFavoriteRouters(state, _ref2) {\n      var id = _ref2.id;\n      state.favoriteRouters = state.favoriteRouters.filter(function (router) {\n        return router.id !== id;\n      });\n    }\n  }\n});",{"version":3,"sources":["/home/crax/Code/ZhuHaiBus-PWA/src/store/main.js"],"names":["Vue","Vuex","use","Store","state","searchBarStatus","nearbyStops","screenHeight","stopRouters","geoLocationState","getters","recentStop","calculatePageOffset","Math","floor","mutations","changeGeoLocationState","msg","changeSearchBarState","searchBarState","setNearbyStops","setScreenHeight","height","setStopRouters","routers","transformRouter","router","index","findIndex","id","oldRouter","set","newRouter","addRouterToFavoriteRouters","favoriteRouters","push","removeRouterFromFavoriteRouters","filter"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACAD,GAAG,CAACE,GAAJ,CAAQD,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACE,KAAT,CAAe;AAC7BC,EAAAA,KAAK,EAAE;AACNC,IAAAA,eAAe,EAAE,KADX;AAENC,IAAAA,WAAW,EAAE,EAFP;AAGNC,IAAAA,YAAY,EAAE,IAHR;AAINC,IAAAA,WAAW,EAAE,EAJP;AAKNC,IAAAA,gBAAgB,EAAE,EALZ,CAMN;;AANM,GADsB;AAS7BC,EAAAA,OAAO,EAAE;AACRC,IAAAA,UAAU,EAAE,oBAAAP,KAAK,EAAI;AACpB,aAAOA,KAAK,CAACE,WAAN,CAAkB,CAAlB,CAAP;AACA,KAHO;AAIRM,IAAAA,mBAAmB,EAAE,6BAAAR,KAAK,EAAI;AAC7B,aAAOS,IAAI,CAACC,KAAL,CAAYV,KAAK,CAACG,YAAN,GAAqB,IAAtB,GAA8B,GAAzC,IAAgD,IAAvD;AACA;AANO,GAToB;AAiB7BQ,EAAAA,SAAS,EAAE;AACVC,IAAAA,sBADU,kCACaZ,KADb,EACoBa,GADpB,EACyB;AAClCb,MAAAA,KAAK,CAACK,gBAAN,GAAyBQ,GAAzB;AACA,KAHS;AAIVC,IAAAA,oBAJU,gCAIWd,KAJX,EAIkB;AAC3BA,MAAAA,KAAK,CAACe,cAAN,GAAuB,CAACf,KAAK,CAACe,cAA9B;AACA,KANS;AAOVC,IAAAA,cAPU,0BAOKhB,KAPL,EAOYE,WAPZ,EAOyB;AAClCF,MAAAA,KAAK,CAACE,WAAN,GAAoBA,WAApB;AACA,KATS;AAUVe,IAAAA,eAVU,2BAUMjB,KAVN,EAUakB,MAVb,EAUqB;AAC9BlB,MAAAA,KAAK,CAACG,YAAN,GAAqBe,MAArB;AACA,KAZS;AAaVC,IAAAA,cAbU,0BAaKnB,KAbL,EAaYoB,OAbZ,EAaqB;AAC9BpB,MAAAA,KAAK,CAACI,WAAN,GAAoBgB,OAApB;AACA,KAfS;AAgBVC,IAAAA,eAhBU,2BAgBMrB,KAhBN,EAgBasB,MAhBb,EAgBqB;AAC9B,UAAIC,KAAK,GAAGvB,KAAK,CAACI,WAAN,CAAkBoB,SAAlB,CACX;AAAA,YAAGC,EAAH,QAAGA,EAAH;AAAA,eAAYA,EAAE,KAAKH,MAAM,CAACI,SAAP,CAAiBD,EAApC;AAAA,OADW,CAAZ;AAGA7B,MAAAA,GAAG,CAAC+B,GAAJ,CAAQ3B,KAAK,CAACI,WAAd,EAA2BmB,KAA3B,EAAkCD,MAAM,CAACM,SAAP,CAAiB,CAAjB,CAAlC;AACA,KArBS;AAsBVC,IAAAA,0BAtBU,sCAsBiB7B,KAtBjB,EAsBwBsB,MAtBxB,EAsBgC;AACzCtB,MAAAA,KAAK,CAAC8B,eAAN,CAAsBC,IAAtB,CAA2BT,MAA3B;AACA,KAxBS;AAyBVU,IAAAA,+BAzBU,2CAyBsBhC,KAzBtB,SAyBmC;AAAA,UAALyB,EAAK,SAALA,EAAK;AAC5CzB,MAAAA,KAAK,CAAC8B,eAAN,GAAwB9B,KAAK,CAAC8B,eAAN,CAAsBG,MAAtB,CAA6B,UAAAX,MAAM;AAAA,eAAIA,MAAM,CAACG,EAAP,KAAcA,EAAlB;AAAA,OAAnC,CAAxB;AACA;AA3BS;AAjBkB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n\tstate: {\n\t\tsearchBarStatus: false,\n\t\tnearbyStops: [],\n\t\tscreenHeight: null,\n\t\tstopRouters: [],\n\t\tgeoLocationState: '',\n\t\t//favoriteRouters: JSON.parse(localStorage[\"favoriteRouters\"]) || []\n\t},\n\tgetters: {\n\t\trecentStop: state => {\n\t\t\treturn state.nearbyStops[0]\n\t\t},\n\t\tcalculatePageOffset: state => {\n\t\t\treturn Math.floor((state.screenHeight / 65.5) * 0.7) * 65.5\n\t\t}\n\t},\n\tmutations: {\n\t\tchangeGeoLocationState(state, msg) {\n\t\t\tstate.geoLocationState = msg\n\t\t},\n\t\tchangeSearchBarState(state) {\n\t\t\tstate.searchBarState = !state.searchBarState\n\t\t},\n\t\tsetNearbyStops(state, nearbyStops) {\n\t\t\tstate.nearbyStops = nearbyStops\n\t\t},\n\t\tsetScreenHeight(state, height) {\n\t\t\tstate.screenHeight = height\n\t\t},\n\t\tsetStopRouters(state, routers) {\n\t\t\tstate.stopRouters = routers\n\t\t},\n\t\ttransformRouter(state, router) {\n\t\t\tlet index = state.stopRouters.findIndex(\n\t\t\t\t({ id }) => id === router.oldRouter.id\n\t\t\t)\n\t\t\tVue.set(state.stopRouters, index, router.newRouter[0])\n\t\t},\n\t\taddRouterToFavoriteRouters(state, router) {\n\t\t\tstate.favoriteRouters.push(router)\n\t\t},\n\t\tremoveRouterFromFavoriteRouters(state, {id}) {\n\t\t\tstate.favoriteRouters = state.favoriteRouters.filter(router => router.id !== id)\n\t\t}\n\t},\n\n})\n"]}]}